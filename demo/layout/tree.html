<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>树布局</title>
    <link rel="stylesheet" href="../common.css">
  </head>
  <body class="center">
    <main id="chart"></main>
    <script src="//s.thsi.cn/js/datav/lib/d3.v5.min.js"></script>
    <script src="../RelationGraphs.js"></script>
    <script type="text/javascript">
      let data = {
    		name:"中国",
            id: 0,
    		children:[
    			{
                    id: 1,
    				name:"浙江",
    				children:[
    					{id: 2,name:"杭州" ,value:100},
    					{id: 3,name:"宁波",value:100},
            			{id: 4,name:"温州",value:100},
            			{id: 5,name:"绍兴",value:100}
    				]
    			},
    			{
    				name:"广西",
                    id: 6,
    				children:[
    					{
    						name:"桂林",
                            id: 7,
    						children:[
    							{id: 8,name:"秀峰区",value:100},
                				{id: 9,name:"叠彩区",value:100},
                				{id: 10,name:"象山区",value:100},
               					{id: 11,name:"七星区",value:100}
    						]
    					},
    					{id: 12,name:"南宁",value:100},
            			{id: 13,name:"柳州",value:100},
            			{id: 14,name:"防城港",value:100}
    				]
    			},
    			{
    				name:"黑龙江",
                    id: 15,
    				children:[
    					{id: 16,name:"哈尔滨",value:100},
            			{id: 17,name:"齐齐哈尔",value:100},
            			{id: 18,name:"牡丹江",value:100},
            			{id: 19,name:"大庆",value:100}
    				]
    			},
    			{
    				name:"新疆" , 
                    id: 20,
        			children:
        			[
			            {id: 21,name:"乌鲁木齐"},
			            {id: 22,name:"克拉玛依"},
			            {id: 23,name:"吐鲁番"},
			            {id: 24,name:"哈密"}
        			]
    			}
    		]
    	};

      const option = {
        layout: {
          type: 'tree'
        },
		nodes: {
			style: {
				// 文字是否跟随缩放
				transformText: true,
				fontSize: 8,
			},
			type: 'Rect',
			shape: {
				width: 30,
				height: 30,
				r: 15,
			},
			distance: function (angle, width, height) {
				return 15
			},
		},
      }
      let flow = new RelationGraphs('chart', data, option)
    </script>
  </body>
</html>
